<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Validate dataset by columns and rows using convenient predicates inspired by assertr package.
             Generate good looking HTML report or print console output to display in logs of your data processing pipeline.">
<title>Automatic Data Validation and Reporting • data.validator</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="Automatic Data Validation and Reporting">
<meta property="og:description" content="Validate dataset by columns and rows using convenient predicates inspired by assertr package.
             Generate good looking HTML report or print console output to display in logs of your data processing pipeline.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-FVQKL0FR02"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-FVQKL0FR02');
</script><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-FQQZL5V93G"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-FQQZL5V93G');
</script><script async defer src="https://buttons.github.io/buttons.js"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">data.validator</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0.9002</small>

    <a href="https://shiny.tools" class="external-link home"><i class="fa fa-lg fa-chevron-left"></i></a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="index.html">
    <span class="fa fa-home"></span>
     
    Start
  </a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--articles">
    <span class="fa fa-university"></span>
     
    Articles
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--articles">
    <a class="dropdown-item" href="articles/data_validator.html">All you need to know about data.validator</a>
    <a class="dropdown-item" href="articles/targets_workflow.html">Targets validation workflow</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Reference
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    Changelog
  </a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Appsilon/data.validator">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/Appsilon">
    <span class="fa fa-twitter fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://fosstodon.org/@appsilon">
    <span class="fab fa fab fa-mastodon fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="datavalidator-">data.validator <a href="https://appsilon.github.io/data.validator/"><img src="reference/figures/hexsticker.png" align="right" alt="data.validator logo" style="height: 140px;"></a>
<a class="anchor" aria-label="anchor" href="#datavalidator-"></a>
</h1></div>
<blockquote>
<p><em>Validate your data and create nice reports straight from R.</em></p>
</blockquote>
<!-- badges: start -->

<div class="section level2">
<h2 id="description">Description<a class="anchor" aria-label="anchor" href="#description"></a>
</h2>
<p><code>data.validator</code> is a package for scalable and reproducible data validation. It provides:</p>
<ul>
<li>Functions for validating datasets in <code>%&gt;%</code> pipelines: <code>validate_if</code>, <code>validate_cols</code> and <code>validate_rows</code>
</li>
<li>Predicate functions from <a href="https://github.com/ropensci/assertr" class="external-link">assertr</a> package, like <code>in_set</code>, <code>within_bounds</code>, etc.</li>
<li>Functions for creating user-friendly reports that you can send to email, store in logs folder, or generate automatically with RStudio Connect.</li>
</ul>
<p><img src="reference/figures/semantic_report_example.gif"></p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"data.validator"</span><span class="op">)</span></span></code></pre></div>
<p>or the latest development version:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"Appsilon/data.validator"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="data-validation">Data validation<a class="anchor" aria-label="anchor" href="#data-validation"></a>
</h2>
<p>Validation cycle is simple:</p>
<ol style="list-style-type: decimal">
<li>Create report object.</li>
<li>Prepare your dataset. You can load it, preprocess and then run <code><a href="reference/validate.html">validate()</a></code> pipeline.</li>
<li>Validate your datasets.
<ul>
<li>Start validation block with <code><a href="reference/validate.html">validate()</a></code> function. It adds new section to the report.</li>
<li>Use <code>validate_*</code> functions and predicates to validate the data. You can create your custom predicates. See <code>between()</code> example.</li>
<li>Add assertion results to the report with <code><a href="reference/add_results.html">add_results()</a></code>
</li>
</ul>
</li>
<li>Print the results or generate HTML report.</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/assertr/" class="external-link">assertr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://appsilon.github.io/data.validator/">data.validator</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">report</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/data_validation_report.html">data_validation_report</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/validate.html">validate</a></span><span class="op">(</span><span class="va">mtcars</span>, name <span class="op">=</span> <span class="st">"Verifying cars dataset"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/validate_if.html">validate_if</a></span><span class="op">(</span><span class="va">drat</span> <span class="op">&gt;</span> <span class="fl">0</span>, description <span class="op">=</span> <span class="st">"Column drat has only positive values"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/validate_cols.html">validate_cols</a></span><span class="op">(</span><span class="fu"><a href="https://docs.ropensci.org/assertr/reference/in_set.html" class="external-link">in_set</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>, <span class="va">vs</span>, <span class="va">am</span>, description <span class="op">=</span> <span class="st">"vs and am values equal 0 or 2 only"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/validate_cols.html">validate_cols</a></span><span class="op">(</span><span class="fu"><a href="https://docs.ropensci.org/assertr/reference/within_n_sds.html" class="external-link">within_n_sds</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>, <span class="va">mpg</span>, description <span class="op">=</span> <span class="st">"mpg within 1 sds"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/validate_rows.html">validate_rows</a></span><span class="op">(</span><span class="va">num_row_NAs</span>, <span class="fu"><a href="https://docs.ropensci.org/assertr/reference/within_bounds.html" class="external-link">within_bounds</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2</span><span class="op">)</span>, <span class="va">vs</span>, <span class="va">am</span>, <span class="va">mpg</span>, description <span class="op">=</span> <span class="st">"not too many NAs in rows"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/validate_rows.html">validate_rows</a></span><span class="op">(</span><span class="va">maha_dist</span>, <span class="fu"><a href="https://docs.ropensci.org/assertr/reference/within_n_mads.html" class="external-link">within_n_mads</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>, <span class="fu">everything</span><span class="op">(</span><span class="op">)</span>, description <span class="op">=</span> <span class="st">"maha dist within 10 mads"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/add_results.html">add_results</a></span><span class="op">(</span><span class="va">report</span><span class="op">)</span></span>
<span></span>
<span><span class="va">between</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span>, <span class="va">b</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span> <span class="va">a</span> <span class="op">&lt;=</span> <span class="va">x</span> <span class="op">&amp;</span> <span class="va">x</span> <span class="op">&lt;=</span> <span class="va">b</span> <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="reference/validate.html">validate</a></span><span class="op">(</span><span class="va">iris</span>, name <span class="op">=</span> <span class="st">"Verifying flower dataset"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/validate_if.html">validate_if</a></span><span class="op">(</span><span class="va">Sepal.Length</span> <span class="op">&gt;</span> <span class="fl">0</span>, description <span class="op">=</span> <span class="st">"Sepal length is greater than 0"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/validate_cols.html">validate_cols</a></span><span class="op">(</span><span class="fu">between</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">4</span><span class="op">)</span>, <span class="va">Sepal.Width</span>, description <span class="op">=</span> <span class="st">"Sepal width is between 0 and 4"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/add_results.html">add_results</a></span><span class="op">(</span><span class="va">report</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">report</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="reporting">Reporting<a class="anchor" aria-label="anchor" href="#reporting"></a>
</h2>
<p>Print results to the console:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">report</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Validation summary:</span></span>
<span><span class="co">#  Number of successful validations: 1</span></span>
<span><span class="co">#  Number of failed validations: 4</span></span>
<span><span class="co">#  Number of validations with warnings: 1</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># Advanced view:</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># |table_name |description                                       |type    | total_violations|</span></span>
<span><span class="co"># |:----------|:-------------------------------------------------|:-------|----------------:|</span></span>
<span><span class="co"># |mtcars     |Column drat has only positive values              |success |               NA|</span></span>
<span><span class="co"># |mtcars     |Column drat has only values larger than 3         |error   |                4|</span></span>
<span><span class="co"># |mtcars     |Each row sum for am:vs columns is less or equal 1 |error   |                7|</span></span>
<span><span class="co"># |mtcars     |For wt and qsec we have: abs(col) &lt; 2 * sd(col)   |error   |                4|</span></span>
<span><span class="co"># |mtcars     |vs and am values equal 0 or 2 only                |error   |               27|</span></span>
<span><span class="co"># |mtcars     |vs and am values should equal 3 or 4              |warning |               24|</span></span></code></pre></div>
<p>Save as HTML report</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/save_report.html">save_report</a></span><span class="op">(</span><span class="va">report</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="full-examples">Full examples<a class="anchor" aria-label="anchor" href="#full-examples"></a>
</h2>
<div class="section level3">
<h3 id="checking-key-columns-uniqueness">Checking key columns uniqueness<a class="anchor" aria-label="anchor" href="#checking-key-columns-uniqueness"></a>
</h3>
<p>Common step in data validation is assuring that key columns are unique and not empty.</p>
<p>Test dataset for preparing the validation schema can be created with <a href="https://github.com/jakubnowicki/fixtuRes" class="external-link"><code>fixtuRes</code></a> package.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jakubnowicki/fixtuRes" class="external-link">fixtuRes</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/assertr/" class="external-link">assertr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://appsilon.github.io/data.validator/">data.validator</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">my_mock_generator</span> <span class="op">&lt;-</span> <span class="fu">fixtuRes</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/fixtuRes/man/MockDataGenerator.html" class="external-link">MockDataGenerator</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="st">"path-to-my-configuration.yml"</span><span class="op">)</span></span>
<span><span class="va">my_data_frame</span> <span class="op">&lt;-</span> <span class="va">my_mock_generator</span><span class="op">$</span><span class="fu">get_data</span><span class="op">(</span><span class="st">"my_data_frame"</span>, <span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="va">report</span> <span class="op">&lt;-</span> <span class="fu">data.validator</span><span class="fu">::</span><span class="fu"><a href="reference/data_validation_report.html">data_validation_report</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/validate.html">validate</a></span><span class="op">(</span><span class="va">my_data_frame</span>, name <span class="op">=</span> <span class="st">"Verifying data uniqueness"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/validate_if.html">validate_if</a></span><span class="op">(</span><span class="fu"><a href="https://docs.ropensci.org/assertr/reference/is_uniq.html" class="external-link">is_uniq</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span>, description <span class="op">=</span> <span class="st">"ID column is unique"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/validate_if.html">validate_if</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">id</span> <span class="op">!=</span> <span class="st">""</span>, description <span class="op">=</span> <span class="st">"ID column is not empty"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/validate_if.html">validate_if</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">is.character</a></span><span class="op">(</span><span class="va">code</span><span class="op">)</span>, description <span class="op">=</span> <span class="st">"CODE column is string"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/validate_rows.html">validate_rows</a></span><span class="op">(</span><span class="va">col_concat</span>, <span class="va">is_uniq</span>, <span class="va">code</span>, <span class="va">type</span>, description <span class="op">=</span> <span class="st">"CODE and TYPE combination is unique"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/add_results.html">add_results</a></span><span class="op">(</span><span class="va">report</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">report</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Validation summary:</span></span>
<span><span class="co">#  Number of successful validations: 4</span></span>
<span><span class="co">#  Number of failed validations: 0</span></span>
<span><span class="co">#  Number of validations with warnings: 0</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># Advanced view:</span></span>
<span><span class="co">#</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># |table_name              |description                         |type    | total_violations|</span></span>
<span><span class="co"># |:-----------------------|:-----------------------------------|:-------|----------------:|</span></span>
<span><span class="co"># |Verifying data uniqness |CODE and TYPE combination is unique |success |               NA|</span></span>
<span><span class="co"># |Verifying data uniqness |CODE column is string               |success |               NA|</span></span>
<span><span class="co"># |Verifying data uniqness |ID column is not empty              |success |               NA|</span></span>
<span><span class="co"># |Verifying data uniqness |ID column is unique                 |success |               NA|</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="custom-reporting-on-leaflet-map">Custom reporting on leaflet map<a class="anchor" aria-label="anchor" href="#custom-reporting-on-leaflet-map"></a>
</h3>
<ul>
<li><a href="https://github.com/Appsilon/data.validator/blob/master/examples/custom_report/example.R" class="external-link">Custom reporting on leaflet map</a></li>
</ul>
<p><img src="reference/figures/custom_report_example.gif"></p>
</div>
<div class="section level3">
<h3 id="other-examples">Other examples<a class="anchor" aria-label="anchor" href="#other-examples"></a>
</h3>
<ul>
<li><p><a href="https://github.com/Appsilon/data.validator/blob/master/examples/minimal_example/example.R" class="external-link">Minimal example to get you started</a></p></li>
<li><p><a href="https://github.com/Appsilon/data.validator/blob/master/examples/new_api/example.R" class="external-link">Convenient API</a></p></li>
<li><p><a href="https://github.com/Appsilon/data.validator/blob/master/examples/sample_validations/example.R" class="external-link">Various way of saving reports</a></p></li>
<li><p><a href="https://github.com/Appsilon/data.validator/blob/master/examples/shiny_app/shiny_example.R" class="external-link">Rendering report as a part of Shiny app</a></p></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="using-custom-report-templates">Using custom report templates<a class="anchor" aria-label="anchor" href="#using-custom-report-templates"></a>
</h2>
<p>In order to generate rmarkdown report <code>data.validator</code> uses predefined report template. You may find it in <code>inst/rmarkdown/templates/standard/skeleton/skeleton.Rmd</code>.</p>
<p>The report contains basic requirements for each report template used by <code>save_report</code> function:</p>
<ul>
<li>defining params</li>
</ul>
<pre><code>params:
  generate_report_html: !expr function(...) {}
  extra_params: list()</code></pre>
<ul>
<li>calling content renderer chunk</li>
</ul>
<pre><code>```{r generate_report, echo = FALSE}
params$generate_report_html(params$extra_params)
```</code></pre>
<p>If you want to use the template as a base you can use RStudio. Load the package and use <code>File -&gt; New File -&gt; R Markdown -&gt; From template -&gt; Simple structure for HTML report summary</code>. Then modify the template adding custom title, or graphics with leaving the below points unchanged and specify the path inside <code>save_report</code>’s <code>template</code> parameter.</p>
</div>
</div>
<div class="section level1">
<h1 id="how-the-package-can-be-used-in-production">How the package can be used in production?<a class="anchor" aria-label="anchor" href="#how-the-package-can-be-used-in-production"></a>
</h1>
<p>The package was successfully used by Appsilon in production environment for protecting Shiny Apps against being run on incorrect data.</p>
<p>The workflow was based on the below steps:</p>
<ol style="list-style-type: decimal">
<li><p>Running <a href="https://rstudio.com/products/connect/" class="external-link">RStudio Connect Scheduler</a> daily.</p></li>
<li><p>Scheduler sources the data from PostgreSQL table and validates it based on predefined rules.</p></li>
<li><p>Based on validation results a new <code>data.validator</code> report is created.</p></li>
</ol>
<p>4a. When data is violated:</p>
<ul>
<li><p>data provider and person responsible for data quality receives report via email</p></li>
<li><p>thanks to <code>assertr</code> functionality, the report is easily understandable both for technical, and non-technical person</p></li>
<li><p>data provider makes required data fixes</p></li>
</ul>
<p>4b. When data is correct:</p>
<ul>
<li>a specific trigger is sent in order to reload Shiny data</li>
</ul>
<div class="section level3">
<h3 id="working-example">Working example<a class="anchor" aria-label="anchor" href="#working-example"></a>
</h3>
<p>Check the simple example of scheduled validation and storing data as <code>pin</code> here: <a href="https://connect.prod.aws.appsilon.com/connect_validation_workflow/" class="external-link">connect_validation_workflow</a></p>
<p>The workflow is presented on below graphics <img src="reference/figures/workflow.png"></p>
</div>
<div class="section level2">
<h2 id="how-to-contribute">How to contribute?<a class="anchor" aria-label="anchor" href="#how-to-contribute"></a>
</h2>
<p>If you want to contribute to this project please submit a regular PR, once you’re done with new feature or bug fix.</p>
<p>Reporting a bug is also helpful - please use <a href="https://github.com/Appsilon/data.validator/issues" class="external-link">GitHub issues</a> and describe your problem as detailed as possible.</p>
</div>
<div class="section level2">
<h2 id="appsilon">Appsilon<a class="anchor" aria-label="anchor" href="#appsilon"></a>
</h2>
<p><img src="https://avatars0.githubusercontent.com/u/6096772" align="right" alt="" width="6%"></p>
<p>Appsilon is a <strong>Posit (formerly RStudio) Full Service Certified Partner</strong>.<br> Learn more at <a href="https://appsilon.com" class="external-link">appsilon.com</a>.</p>
<p>Get in touch <a href="mailto:opensource@appsilon.com">opensource@appsilon.com</a></p>
<p>Explore the <a href="https://rhinoverse.dev" class="external-link">Rhinoverse</a> - a family of R packages built around <a href="https://appsilon.github.io/rhino/" class="external-link">Rhino</a>!</p>
<p><a href="https://appsilon.com/careers/" target="_blank" class="external-link"><img src="https://raw.githubusercontent.com/Appsilon/website-cdn/gh-pages/WeAreHiring1.png" alt="We are hiring!"></a></p>
</div>
</div>

  </main><aside class="col-md-3"><div class="github">
<h2 data-toc-skip>GitHub</h2>
<ul class="list-unstyled">
<li><p><a class="external-link github-button" href="https://github.com/appsilon/data.validator" data-size="large" data-show-count="true" aria-label="Star appsilon/data.validator on GitHub">Star</a></p></li>
</ul>
</div>

<div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=data.validator" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/Appsilon/data.validator/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/Appsilon/data.validator/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing data.validator</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Marcin Dubel <br><small class="roles"> Author, maintainer </small>  </li>
<li>Paweł Przytuła <br><small class="roles"> Author </small>  </li>
<li>Jakub Nowicki <br><small class="roles"> Author </small>  </li>
<li>Krystian Igras <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/Appsilon/data.validator/actions" class="external-link"><img src="https://github.com/Appsilon/data.validator/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://codecov.io/gh/Appsilon/data.validator?branch=main" class="external-link"><img src="https://codecov.io/gh/Appsilon/data.validator/branch/main/graph/badge.svg" alt="codecov"></a></li>
<li><a href="https://CRAN.R-project.org/package=data.validator" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/data.validator" alt="cranlogs"></a></li>
<li><a href="https://CRAN.R-project.org/package=data.validator" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/data.validator" alt="total"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed with <span class="emoji" data-emoji="heart">❤️</span> by <a href="https://appsilon.com" class="external-link">Appsilon</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
